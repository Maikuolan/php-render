#!/usr/bin/env php
<?php

require __DIR__ . '/../vendor/autoload.php';

use PHPR\{
    Context, Color, Vec3,

    Render\HTMLRender
};

$canvas = new PHPR\Context(50, 50);

// foreach($canvas->buffer as &$color) {
//     $color = mt_rand(0x000000, 0xFFFFFF);
// }

// https://medium.com/@thiagoluiz.nunes/rasterization-algorithms-computer-graphics-b9c3600a7587

//$canvas->drawLine(0,0, 50,50, 0x000000);
//$canvas->drawLine(0,20, 50,40, 0x000000);
//$canvas->drawLine(10,20, 15,30, 0x000000);
//$canvas->drawLine(mt_rand(0,50), mt_rand(0,50), mt_rand(0,50), mt_rand(0,50), 0x000000);

$ranges = $canvas->getTriangleRanges(
    new Vec3(0, 0, 0.0),
    new Vec3(49, 10, 0.0),
    new Vec3(24, 49, 0.0)
);


var_dump($ranges); die;

$renderer = new HTMLRender;
file_put_contents(__DIR__ . '/../out.html', $renderer->render($canvas));
